
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru-ru" lang="ru-ru" >
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="keywords" content="VIZ, блог, блокчейн, блоггеры, социальная сеть, апвот, поощрение, лайки, контент, децентрализация" />
		<meta name="rights" content="(с) Joopiter.ru и denis-skripnik.name" />
		<meta name="description" content="Live blogs space - web-клиент для блокчейна VIZ, платформы для блоггеров. Его главным преимуществом является то, что он локальный, а также имеет свою экономику распределения вознаграждений (СМ. about.html)" />
		
		<title>Регистрация по инвайт-коду | live blogs space</title>
		
		<link href="favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon" />
		<link href="css/view.css" rel="stylesheet" type="text/css" />
		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="css/bootstrap/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<link href="css/bootstrap-theme.min.css" rel="stylesheet" type="text/css" />
		<link href="css/font-awesome.min.css" rel="stylesheet" type="text/css" />
		<link href="css/bootstrap/bootstrap-social.css" rel="stylesheet" type="text/css" />
		<link href="css/bootstrap/fileinput.css" rel="stylesheet" type="text/css" />
		<link href="css/font-exo-cyrillic.css" rel="stylesheet" type="text/css" />
		<link href="css/1vtemplate.css" rel="stylesheet" type="text/css" />
		<link rel="stylesheet" href="css/editormd.min.css" />
		
		<script src="js/lib/jquery.min.js"></script>
		<script src="js/lib/jquery-ui.min.js"></script>		
		<script src="js/lib/sjcl.min.js" type="text/javascript"></script>
		<script src="js/lib/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
		<script src="js/lib/fileinput.min.js" type="text/javascript"></script>
		<script src="js/1vtemplate.js" type="text/javascript"></script>

		<script src="https://cdn.jsdelivr.net/npm/viz-world-js@0.9.9/dist/viz.min.js" type="text/javascript"></script>
		<script src="js/marked.js" type="text/javascript"></script>
		<script src="js/moment.js" type="text/javascript"></script>
		<script src="js/vizhelper.js" type="text/javascript"></script>
		
		<script src="js/view.js" type="text/javascript"></script>
		<script src="js/editormd.min.js" type="text/javascript"></script>
		<script language="javascript" type="text/javascript"></script>
	</head>
	
	<style type="text/css" media="screen">
		#editor { 
			position: absolute;
			top: 0;
			right: 0;
			bottom: 0;
			left: 0;
		}
	</style>	
	<body class="body">
	<header id="header_wrapper" class="mp_header_wrapper">
			<nav id="header" class="navbar navbar-default radiusless">
				<div class="main_wrapper">
					<div class="navbar-header">
						<button type="button" id="main-menu_btn" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-menu" aria-expanded="false">
							<span class="sr-only">Главное меню</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</button>
					</div>
					<div class="collapse navbar-collapse" id="main-menu">
					</div>
				</div>
			</nav>
        </header>
		<div id="principal_wrapper">
			<div class="main_wrapper">
				<aside id="sidebar_left">
					<div id="main_logo_wrapper">
						<a href="index.html" id="logo_link"><img src="images/logo.png" class="img-responsive" alt="Live blogs space" title="Live blogs space"/></a>
					</div>
					<div id="login_div" class="row" style="margin-top: 5px; margin-bottom: 10px; display: none;">
						<form action="" method="post" name="adminForm" id="adminForm" class="form-validate col-sm-10 col-sm-offset-1">
								<div class="form-group1">
									<label for="login" style="color: white;">Логин VIZ<span style="color: red;">*</span> </label>
									<div class="input-group">
										<div class="input-group-addon">@</div>
										<input type="text" class="form-control required" id="login" name="login" onblur="checkLogin(this.value);" required="required"> 
									</div>
								</div>
								<div class="form-group1">
									<label for="key" style="color: white;">Постинг ключ</label> <span style="color: red;">*</span> 
									<input type="password" class="form-control required" id="key" name="key" placeholder="Начинается с 5" required="required">
								</div>
								<br>
								<div class="center" style="text-align: center;">
									<input type="hidden" name="ok" id="ok" value="false">
									<input type="button" class="btn btn-primary" value="Войти" onclick="storeKeyLocally();">
								</div>
						</form>
					</div>

					<div id="avatar">
						<div id="hello"></div>
						<div id="battery"></div>
					</div>
				</aside>
				<div id="main_content_wrapper">
					<section id="main_content">
						
						<div id="main_column_wrapper">
							<div id="main_column">																	
								<ol itemscope itemtype="https://schema.org/BreadcrumbList" class="breadcrumb">
									<li>
										Вы здесь: &#160;
									</li>	
									<li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem" class="active">
										<span itemprop="name">
											Регистрация по инвайт-коду				
										</span>
										<meta itemprop="position" content="1">
									</li>
								</ol>
								<div id="j_component">									
									<form action="index.html" method="post" name="postForm" id="postForm" class="form-validate col-sm-10 col-sm-offset-1">
										<div class="form-group1">
											<label for="newAccountName">Логин нового аккаунта<span style="color: red;">*</span> </label>
											<input type="text" class="form-control required" id="new_account_name" name="newAccountName" required="required"> 
										</div>
										<div class="form-group1">
											<label for="inviteSecret">Инвайт-код:<span style="color: red;">*</span> </label>
											<input type="text" class="form-control required" id="invite_secret" name="inviteSecret" required="required" value=""> 
										</div>
										<div class="form-group1">
											<label for="newAccountKey">Ключ (Будет и owner, и постинг, и активным ключом аккаунта):<span style="color: red;">*</span> </label>
<input type="button" value="Генерировать" onclick="new_private_gen();">
											<input type="text" clas
											s="form-control required" id="new_account_key" name="newAccountKey" readonly required="required">
<input type="button" id="new_private_copy" value="Скопировать в буфер обмена"
</div>	
										<div class="form-group1">
<hr>
<p><strong>ВНИМАНИЕ: запишите придуманный ключ в нескольких местах - его нельзя будет восстановить, если потеряете!</strong></p>
<hr>
</div>

										<div class="form-group1">
											<br>
											<input type="button" class="btn btn-primary" value="Регистрировать" 
												onclick="send_reg_data();">
										</div>										
								</div>
							</div>										
						</div>
					</section>
				</div>

				<div id="footer_buffer"></div>
					<footer id="footer_wrapper">
						<div id="footer" class="padding_tb20 row">
							<div class="col-sm-12">
								<div class="footer2">Разработка и дизайн клиента - <a href="user.html?author=captain">@captain</a></div>
							</div>
						</div>
					</footer>
				<div class="clearfix"></div>
			</div>
		</div>
		<div class="clearfix"></div>
		<script type="text/javascript">
			var invite_code = getUrlVars()['invite'];
if (invite_code) {
document.getElementById('invite_secret').value = invite_code;
$('#invite_secret').prop('readonly', true);
}

function pass_gen(){
	let length=100;
	let charset='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+-=_:;.,@!^&*$';
	let ret='';
	for (var i=0,n=charset.length;i<length;++i){
		ret+=charset.charAt(Math.floor(Math.random()*n));
	}
	let wif=viz.auth.toWif('',ret,'')
	return wif;
}

function new_private_gen() {
	$('#new_account_key').val(pass_gen());
}

	function send_reg_data() {
var new_account_key_id = $("#new_account_key").val();
		var resultWifToPublic = viz.auth.wifToPublic(new_account_key_id);
	console.log('wifToPublic', resultWifToPublic);
		inviteRegPage(document.getElementById('new_account_name').value, document.getElementById('invite_secret').value, resultWifToPublic, new_account_key_id);
}

//цепляем событие на onclick кнопки
var button = document.getElementById('new_private_copy');
button.addEventListener('click', function () {
  //нашли наш контейнер
  var ta = document.querySelector('#new_account_key');
    ta.focus();
    ta.setSelectionRange(0, ta.value.length);
 
  try { 
    document.execCommand('copy'); 
  } catch(err) { 
    console.log('Can`t copy, boss'); 
  } 
  //очистим выделение текста, чтобы пользователь не парился
  window.getSelection().removeAllRanges();
});


Init();
			mainMenu();
		</script>
	</body>
</html>
